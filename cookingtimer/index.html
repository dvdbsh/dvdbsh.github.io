<!DOCTYPE html>
<html>
<head>
  <title>Cooking Timer</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
  <link rel="stylesheet" type="text/css" href="main.css">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="shortcut icon" type="image/png" href="https://res.cloudinary.com/di8j84ent/image/upload/v1690128995/New_Project_-_2023-07-23T121618.521_ybqq6l.png"/>
  <link rel="apple-touch-icon" type="image/png" href="https://res.cloudinary.com/di8j84ent/image/upload/v1690128995/New_Project_-_2023-07-23T121618.521_ybqq6l.png"/>
  <link rel="manifest" href="manifest.json">
</head>
<body>

  <div class="background-image-container">
    <!-- Background image will be applied here -->
  </div>

  <div class="background-logo1">
    <img src="https://athwsue2-prd-webscript-cdn-endpoint.azureedge.net/7ddb891c6619f44c4281250624210683/assets/characters/background/feature/sm_skull.png" alt="Background Logo">
  </div>
  <div class="background-logo2">
    <img src="https://res.cloudinary.com/di8j84ent/image/upload/v1690156886/fishybg.svg" alt="Background Logo">
  </div>

  <div class="wrapper">
    <div class="rotate-image"></div>
    <div class="title">Galley Timers</div>

    <div class="grid-container">
      <button class="timer-button-1" data-time="40" onclick="startTimer(this)"></button>
      <button class="timer-button-2" data-time="60" onclick="startTimer(this)"></button>
      <button class="timer-button-3" data-time="90" onclick="startTimer(this)"></button>
      <button class="timer-button-4" data-time="120" onclick="startTimer(this)"></button>
    </div>
  <div class="footer">Thanks to the orignal <i>Sea of Chefs</i> tool that inspired these timers. Most images from <a href="http://www.seaofthieves.com" target="_blank">www.seaofthieves.com</a>. © Microsoft 2023. Microsoft, Rare, the Rare logo, Sea of Thieves are trademarks of the Microsoft group of companies.</div>
</div>
  

  <script>
    function startTimer(button) {
      if (button.classList.contains("orange-button")) {
        stopTimer(button);
      } else {
        button.classList.remove("timer-button-1", "timer-button-2", "timer-button-3", "timer-button-4");
        button.classList.add("orange-button");
        let remainingTime = parseInt(button.getAttribute("data-time"));
        button.innerText = remainingTime;

        let interval = setInterval(function() {
          remainingTime--;
          button.innerText = remainingTime;

          if (remainingTime === 0) {
            stopTimer(button, interval);
            button.innerText = "✅";
          }
        }, 1000);

        // Save the interval reference as a custom attribute on the button
        button.intervalRef = interval;
      }
    }

    function stopTimer(button) {
      clearInterval(button.intervalRef); // Stop the interval associated with this button
      button.innerText = ''; // Clear the text
      button.classList.remove("orange-button");
      // Restore the original style class based on data-time attribute
      const time = parseInt(button.getAttribute("data-time"));
      if (time === 40) {
        button.classList.add("timer-button-1");
      } else if (time === 60) {
        button.classList.add("timer-button-2");
      } else if (time === 90) {
        button.classList.add("timer-button-3");
      } else if (time === 120) {
        button.classList.add("timer-button-4");
      }
    }

    document.addEventListener("DOMContentLoaded", function () {
      const backgroundImages = [
        "https://res.cloudinary.com/di8j84ent/image/upload/v1690134000/aacd2c5b-856f-4271-8638-e97897d94f2f_cfabdp.png",
        "https://res.cloudinary.com/di8j84ent/image/upload/v1690134000/fc17438e-6265-4741-ab68-61fde1f5cb35_e15hw5.png",
        "https://res.cloudinary.com/di8j84ent/image/upload/v1690133999/74d6028e-c0b0-42eb-b52e-0acac68aeb2d_looi56.png",
	"https://res.cloudinary.com/di8j84ent/image/upload/v1690133999/1b3889f6-07cc-4b92-9bdf-b41302e803ac_ttqgi5.png", 
	"https://res.cloudinary.com/di8j84ent/image/upload/v1690133998/a84b987d-23fa-4d69-95d0-8e2520fd0508_qhfmc2.png",
	"https://res.cloudinary.com/di8j84ent/image/upload/v1690133997/8f10ab33-f3f1-4886-8bc4-b0b8020981e0_bj2rwc.png",
	"https://res.cloudinary.com/di8j84ent/image/upload/v1689905205/f806a2e2-b7c2-4075-99ce-1206d3b389f8_rky2p0.png"
        // Add more background image URLs as needed
      ];

      const randomIndex = Math.floor(Math.random() * backgroundImages.length);
      const randomBackgroundImage = backgroundImages[randomIndex];
      const backgroundImageContainer = document.querySelector(".background-image-container");
      backgroundImageContainer.style.backgroundImage = `url(${randomBackgroundImage})`;
    });
  </script>

</body>
</html>
